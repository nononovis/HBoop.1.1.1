function setupMainMenu(e) { var t = 0, a = 20, i = parseInt(a / 2, 10), n = 35; if (main_menu_items.each(function () { var e = $(this), o = e.find("> a"), s = e.find("> ul"), r = s.length > 0; if (r) { o.addClass("has_sub"), e.data("disable_animation", 1), e.on("mouseenter", function () { e.css({ zIndex: n }), s.stop().css({ zIndex: n }).fadeTo(300, 1), n++ }), e.on("mouseleave", function () { e.css({ zIndex: 25 }), s.stop().css({ zIndex: 10 }).fadeTo(300, 0, function () { s.hide() }) }); var d = s.find("ul"); d.length > 0 && (d.hide(), d.parent().on("mouseenter", function () { d.stop().css({ zIndex: 11 }).fadeTo(300, 1) }), d.parent().on("mouseleave", function () { d.stop().css({ zIndex: 10 }).fadeTo(300, 0, function () { d.hide() }) })) } var c = e.width(), l = parseInt(e.css("margin-left"), 10), u = parseInt(active_marker.css("padding-left"), 10), p = parseInt(active_marker.css("padding-right"), 10), f = (parseInt((u + p) / 2, 10), t + l - i); e.data("left", f), e.data("width", c + a), t += e.outerWidth() + l; var m = e.data("width"), h = e.data("left"), _ = active_item.data("width"), v = active_item.data("left"); e.on("hover", function () { active_marker.stop().animate({ left: h, width: m }, { duration: am_motion_duration, easing: am_easing_type }) }), main_menu.on("mouseleave", function () { active_marker.stop().animate({ left: v, width: _ }, { duration: am_motion_duration, easing: am_easing_type }) }) }), active_item.length > 0) { var o = active_item.data("width"), s = active_item.data("left"); e ? active_marker.animate({ left: s, width: o }, { duration: am_motion_duration, easing: am_easing_type }) : active_marker.css({ left: s, width: o }).show() } } function partnersCarouselFit() { var e = $(".partners_carousel").data("ancarouselinstance"); if ("undefined" != typeof e) switch (test_device_type()) { case "large_screen": e.updateItemsPerRowNumber(5); break; case "ipad": e.updateItemsPerRowNumber(4); break; case "iphone_landscape": case "iphone": e.updateItemsPerRowNumber(2) } } function setupPhotoStream(e, t) { t || (t = 6); var a = e.find("a img"), i = a.length; if (e.data("images_per_tab", t).data("current_tab", 1), i > t) { var n = Math.ceil(i / t), o = a.slice(0, t); a.parent().hide(), o.parent().show(); for (var s = $('<div class="photostream_tabs" />'), r = 1; n >= r; r++) { var d = $('<a href="#">' + r + "</a>"); d.data("index", r), 1 == r && d.addClass("active"), d.on("click", function (t) { t.preventDefault(); var a = $(this); switchPhotostreamTab(e, a) }), s.append(d) } e.append(s), s.before('<div class="clear" />') } } function switchPhotostreamTab(e, t) { var a = 500, i = e.find(".photostream_tabs a"), n = t.data("index"); i.removeClass("active"), t.addClass("active"); var o = e.data("images_per_tab"), s = e.data("current_tab"), r = e.find("a img"), d = (s - 1) * o, c = d + o, l = r.slice(d, c), u = (n - 1) * o, p = u + o, f = r.slice(u, p); l.parent().hide(), f.parent().fadeIn(a), e.data("current_tab", n) } var _clearer = null, main_menu, main_menu_items, active_marker, active_item, am_motion_duration, am_easing_type; jQuery(function (e) { _clearer = e("<div />").addClass("clear"), e(".site_footer .photostream, .post_entry .post_block .post_details, .module_content, .tab_content, .post_meta, .blog_post_comments, .portfolio_item .item_meta").append(_clearer.clone()), e(".cblock").each(function () { var t = e(this); t.before(_clearer.clone()), t.append(_clearer.clone()) }), e(".pagination").before(_clearer.clone()); var t = 200, a = 8; e(".portfolio_item .item_meta a.liked").each(function () { var i = e(this), n = e('<div class="already_liked"><i></i>You liked this</div>'); i.append(n), n.css({ marginTop: a }), i.on("mouseenter", function () { n.is(":visible") || n.fadeTo(0, 0), n.stop().animate({ opacity: 1, marginTop: 0 }, t) }), i.on("mouseleave", function () { n.stop().animate({ opacity: 0, marginTop: a }, t, function () { n.hide() }) }), i.each }); var i = -5, n = .5, o = 120, s = "easeInOutQuad"; e(".site_header .top_social li").fadeTo(0, n).each(function () { var t = e(this); t.css({ position: "relative" }), t.on("mouseenter", function () { t.stop().animate({ top: i, opacity: 1 }, { duration: o, easing: s }) }), t.on("mouseleave", function () { t.stop().animate({ top: 0, opacity: n }, { duration: o, easing: s }) }) }); var r = 2, d = 5, c = e(".tweets"); c.data("tweets") && (r = parseInt(c.data("tweets"), 10)), c.data("timeout") && (d = parseInt(c.data("timeout"), 10)); var l = c.children(); l.hide().slice(0, r).show(); var u = { container: c, tweets: l, tweets_per_page: r, timeout: 1e3 * d, pause_on_hover: !0 }, p = new tweetRoller(u); p.start(), e("a.back_to_top").on("click", function (t) { t.preventDefault(), e("html,body").animate({ scrollTop: 0 }, { duration: 800, easing: "easeInOutQuad" }) }), e(".site_header .bar_top .container").append(_clearer), e(".cblock ul:not(.bullet) li").each(function () { var t = e(this), a = t.find("ul, ol").length; a > 0 && t.addClass("expanded") }); var f = e("<a />"); f.addClass("hide").attr("href", "#"), e(".alert").each(function () { var t = e(this), a = f.clone(); t.prepend(a), a.on("click", function (e) { e.preventDefault(), t.slideUp("medium") }) }), am_motion_duration = 450, am_easing_type = "easeOutBack", main_menu = e(".main_menu"), main_menu_items = main_menu.find("> li"), active_marker = e("<div />").addClass("active_marker"), active_item = main_menu.find("> li.active"), main_menu.append(active_marker), setTimeout(function () { setupMainMenu() }, 200); var m = e("<table />"); m.addClass("outer_title_table").attr("width", "100%"); var h = e("<tr />"), _ = e("<td />").addClass("left_border"), v = e("<td />").addClass("text_env"), g = e("<td />").addClass("right_border"); h.append(_).append(v).append(g), m.append(h), e("h1.title, h2.title, h3.title, h4.title").each(function () { var t = e(this), a = t.get(0).tagName, i = t.html().toString(), n = e("<" + a + " />").html(i), o = m.clone(); t.after(o).detach(), o.find(".text_env").html(n) }) }); var tweetRoller = function (e) { var t = this, a = { container: null, tweets: null, tweets_per_page: 2, timeout: 0, pause_on_hover: !0, show_hide_speed: 500 }; $.extend(a, e); var i = a.container, n = a.tweets, o = a.tweets_per_page, s = a.timeout, r = a.pause_on_hover, d = a.show_hide_speed, c = null; i.css({ position: "relative" }), this.index = 0, this.total = n.length; var l = 15; return { next: function () { var e = this.get_indexes(), t = n.slice(e[0], e[1]); this.next_index(), e = this.get_indexes(); var a = n.slice(e[0], e[1]); t.stop().css({ position: "relative" }).animate({ top: l, opacity: 0 }, { duration: d, complete: function () { t.css({ top: 0 }).hide(), a.fadeTo(0, 0), a.stop().css({ top: l, position: "relative" }).animate({ top: 0, opacity: 1 }, { duration: d }) } }) }, get_indexes: function () { var e = t.index, a = t.index + o; if (a %= t.total, e > a) { var i = e - a - o; e -= a - i, a = e + o } return [e, a] }, next_index: function () { t.index += o, t.index = t.index % t.total }, start: function () { var e = this; if (s > 0) { var t = function () { e.next() }; c = setInterval(t, s), r && i.hover(function () { window.clearInterval(c), c = null }, function () { c = setInterval(t, s) }) } } } }, portfolio_items; jQuery(document).ready(function (e) { portfolio_items = e(".portfolio_sortable"), portfolio_items.find(".portfolio_item").each(function () { var t = e(this), a = t.data("filter"); t.addClass(a), t.hover(function () { t.css({ zIndex: 5 }) }, function () { t.css({ zIndex: 4 }) }) }), e.isFunction(portfolio_items.imagesLoaded) && portfolio_items.imagesLoaded(function () { portfolio_items.isotope({ masonry: { itemSelector: ".portfolio_item", gutterWidth: 40, columnWidth: .25 }, animationOptions: { duration: 750, easing: "linear", queue: !1 } }); var t = e(".portfolio_more_results"), a = t.find("> a"); if (1 == t.size()) { portfolio_items.infinitescroll({ navSelector: t, nextSelector: a, itemSelector: ".portfolio_item", loadingImg: "", bufferPx: 5, loading: { selector: e(".portfolio_loading"), msgText: "Loading itemsâ€¦", finishedMsg: "There are no more items to load.", img: "images/loader.gif" } }, function (a) { var i = e(a); i.each(function () { var t = e(this), a = t.data("filter"); t.addClass(a) }), i.hoverZoom({ overlayColor: "#000", overlayOpacity: .3 }).css({ opacity: 0 }).imagesLoaded(function () { portfolio_items.isotope("appended", i, function () { i.find(".zoom").prettyPhoto({ social_tools: "" }) }); portfolio_items.data("infinitescroll"); t.show() }) }); var i = portfolio_items.data("automatic-loading"); if ("false" == i || "0" == i || "no" == i) { e(window).unbind(".infscr"); var n = portfolio_items.data("infinitescroll"); a.click(function (e) { e.preventDefault(), n.retrieve() }) } } }) }), jQuery(document).ready(function (e) { var t = e(".accordion"); e.isFunction(t.accordion) && t.accordion({}) }), jQuery(document).ready(function (e) { var t = e(".wideslider ul"); e.isFunction(t.wideslider) && t.wideslider({ delay: 800, nextPrev: e(".wideslider_nextprev"), prevNextOnKeyboard: !0 }) }), jQuery(document).ready(function (e) { var t = e(".portfolio_slider"); e.isFunction(t.responsiveSlides) && t.imagesLoaded(function () { t.responsiveSlides({ nav: !0, pause: !0, timeout: 5e3, controls: t }) }) }), jQuery(document).ready(function (e) { var t = { classHolder: "selectbox_env", classToggle: "select_toggle", classSelector: "select_open", classToggleOpen: "select_is_opened", classOptions: "select_options" }; e("select.selectbox").each(function () { var a = e(this); "portfolio_filter" == a.attr("id") && (t.onChange = function (e) { var t = "." + e; ".*" == t && (t = "*"), portfolio_items.isotope({ filter: t }), isotopeFix(), a.parent().css({ position: "relative", zIndex: 50 }) }), a.selectbox(t) }) }), jQuery(document).ready(function (e) { var t = e(".partners_carousel"); e.isFunction(t.anCarousel) && (t.anCarousel({ itemsPerRow: 5, autoSlide: 3e3, pauseOnHover: !0 }), partnersCarouselFit()) }), jQuery(document).ready(function (e) { var a = { social_tools: "" }; e.isFunction(t.prettyPhoto) && t.prettyPhoto(a) }), jQuery(document).ready(function (e) { var t = e(".features_tabs"); e.isFunction(t.featuresTabs) && (t.featuresTabs(), t.wrap(e('<div class="large_screen_only" />'))) }), jQuery(document).ready(function (e) { var t = e(".asyncslider"); e.isFunction(t.asyncSlider) && t.asyncSlider({ prevNextNav: ".asyncslider .container", numbersNav: ".asyncslider .container" }) }), jQuery(function (e) { var t = e(".staff_members .staf_member"); e.isFunction(t.imagesLoaded) && t.imagesLoaded(function () { t.each(function () { var t = e(this), a = t.find(".image"), i = a.find(".connect"), n = (parseInt(a.css("padding-left"), 10), parseInt(a.css("padding-right"), 10), parseInt(a.css("padding-top"), 10)), o = parseInt(a.css("padding-bottom"), 10), s = e('<div class="hover_overlay" />'); s.height(a.height() + n + o), a.append(s); var r = (s.width(), s.height()), d = r + n + o, c = { marginTop: -d }, l = { marginTop: 0 }, u = { opacity: 0 }, p = { opacity: 1 }; s.css(c), i.show().css(u), a.hover(function () { s.stop().animate(l, { duration: 300, easing: "easeOutExpo" }), i.stop().animate(p, { duration: 300, easing: "easeInOutSine" }) }, function () { s.stop().animate(c, { duration: 450, easing: "easeOutExpo" }), i.stop().animate(u, { duration: 150, easing: "easeInOutSine" }) }), i.show().css({ left: "50%", top: "50%", marginLeft: -parseInt(i.width() / 2, 10), marginTop: -parseInt(i.height() / 2, 10) }) }) }) }), jQuery(function (e) { e(".featured_post").addClass("clearfix"), e(".tab_content").each(function () { e(this).find(".featured_post").last().addClass("last") }), e(".tabs").each(function () { var t = e(this), a = t.find(".tabbed a"), i = a.parent(); 2 == a.size() && i.addClass("duo"), 3 == a.size() && i.addClass("treo"); var n = t.find(".tab_content"); n.each(function () { var t = e(this).height(); e(this).attr("data-height", t) }), a.click(function (t) { t.preventDefault(); var i = e(this).attr("href"); if (e(this).hasClass("active")) return !1; a.removeClass("active"), e(this).addClass("active"); var o = n.filter(":visible"), s = n.filter(i), r = parseInt(s.attr("data-height"), 10); o.css({ position: "relative", zIndex: 9, overflow: "hidden" }).stop().animate({ height: 0, opacity: 0 }), s.show().css({ position: "relative", zIndex: 10, overflow: "hidden", height: 0, opacity: 0 }).stop().animate({ height: r, opacity: 1 }) }), n.hide(); var o = a.filter('[class="active"]').attr("href"); n.filter(o).show() }) }), jQuery(function (e) { function t(t, a) { var n = o.filter(":visible"), s = e(o.get(t)), r = s.data("author"); 0 == n.size() && (n = s), a ? (n.hide(), s.add(c.text(r)).show()) : n.stop().fadeTo(i, 0, function () { n.hide(), s.stop().fadeTo(i, 1), c.hide().text(r).fadeTo(i, 1) }) } function a() { var e = n.data("total_elements"), t = n.data("current_index"), a = t + 1; return a %= e } var i = 200, n = e("ul.testimonials, ul.home_testimonials"), o = n.find("> li"), s = e('<div class="testimonials" />'); if (o.length > 1) { o.hide(); var r = e('<a href="#" class="prev"></a>'), d = e('<a href="#" class="next"></a>'); r.data("direction", -1), d.data("direction", 1); var c = e('<div class="author" />'); n.data("total_elements", o.length), n.data("current_index", 0), n.after(s), s.append(r).append(d).append(c).append(_clearer.clone()), t(0, !0), r.add(d).on("click", function (a) { a.preventDefault(); var i = e(this); window.clearInterval(l), l = null; var o = i.data("direction"), s = n.data("total_elements"), r = n.data("current_index"), d = r + o; 0 > d && (d = s - 1), d %= s, n.data("current_index", d), t(d) }); var l, u = n.data("autoswitch"), p = n.data("timeout"); ("1" == u || "true" == u) && (l = setInterval(function () { var e = a(); t(e), n.data("current_index", e) }, 1e3 * parseFloat(p, 10))) } }), jQuery(function (e) { var t = e(".photostream"); setupPhotoStream(t, 6) });