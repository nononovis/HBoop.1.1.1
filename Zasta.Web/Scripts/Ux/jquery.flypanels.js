!function(e){function n(n,a){function o(){s(),U=e(".flypanels-left").css("width"),P(),a.search.init&&C(),a.treeMenu.init&&i(),e(document).ready(function(){j.removeClass("preload")}),$("onInit")}function s(){e(".flypanels-left").css("height",D),e(".flypanels-right").css("height",D),e(".flypanels-overlay").css("height",D)}function i(){(kitUtils.isAndroid()||kitUtils.isIOS())&&e(".flypanels-treemenu").addClass("touch"),e(".flypanels-treemenu li.haschildren "+a.treeMenu.expandHandler).click(function(n){e(this).parent().parent().toggleClass("expanded"),n.preventDefault()})}function l(){v(),y(),p()}function c(){e("body").removeClass("flypanels-open"),e("html").removeClass("flypanels-open"),$("onCloseLeft")}function r(){e("body").removeClass("flypanels-open"),e("html").removeClass("flypanels-open"),$("onCloseRight")}function u(){e("body").addClass("flypanels-open"),e("html").addClass("flypanels-open"),$("onOpenLeft")}function f(){e("body").addClass("flypanels-open"),e("html").addClass("flypanels-open"),$("onOpenRight")}function h(){e(".flypanels-content").append('<div id="flypanels-overlay" class="overlay"></div>'),e(".flypanels-content").on("click touchmove touchend touchleave touchcancel",function(e){l(),e.preventDefault()}),$("onOpen")}function p(){e(".flypanels-content #flypanels-overlay").remove(),e(".flypanels-content").off("click touchmove touchend touchleave touchcancel"),$("onClose")}function d(n){j.addClass("openright"),setTimeout(function(){e(".flypanels-right").find('[data-panel="'+n+'"]').show(),f(),h()},200)}function y(){j.removeClass("openright"),setTimeout(function(){e(".offcanvas .panelcontent").hide(),r(),p()},200)}function m(n){j.addClass("openleft"),setTimeout(function(){e(".flypanels-left").find('[data-panel="'+n+'"]').show(),u(),h()},200)}function v(){j.removeClass("openleft"),setTimeout(function(){e(".offcanvas .panelcontent").hide(),c(),p()},200)}function g(){D=window.innerHeight,s()}function C(){(kitUtils.isAndroid()||kitUtils.isIOS())&&e(".flypanels-searchresult").addClass("touch"),a.search.searchPanel.find(".searchbutton").on("click",function(e){e.preventDefault(),w("show"),x(a.search.searchPanel.find(".searchbox input").val())}),a.search.searchPanel.find(".searchbox input").keydown(function(n){13===n.which&&(w("show"),x(e(this).val()),e(this).blur())}),M.has("searchQuery")===!0&&a.search.saveQueryCookie===!0&&x(M.get("searchQuery"))}function k(e){"hide"===e?a.search.searchPanel.find(".errormsg").hide():a.search.searchPanel.find(".errormsg").show()}function w(e){"hide"===e?a.search.searchPanel.find(".loading").hide():a.search.searchPanel.find(".loading").show()}function x(n){k("hide"),$jsonurl=a.search.searchPanel.find(".searchbox").data("searchurl"),$ajaxCall=e.ajax({url:$jsonurl+"&q="+n,dataType:"json"}),$ajaxCall.done(function(e){var t;$foundResults=e.Items.length,$foundResults>0?(a.search.saveQueryCookie===!0&&M.set("searchQuery",n,null,"/"),t=b(e.Items)):(a.search.saveQueryCookie===!0&&M.remove("searchQuery","/"),k("show")),a.search.searchPanel.find(".resultinfo .query").html(n),a.search.searchPanel.find(".resultinfo .num").html($foundResults),a.search.searchPanel.find(".flypanels-searchresult").html(t),w("hide"),a.search.searchPanel.find(".resultinfo").show(),a.search.searchPanel.find(".flypanels-searchresult").show()}),$ajaxCall.fail(function(){k("show")})}function b(e){output="<ul>";for(var n in e)output+="Page"===e[n].Type?'<li><a href="'+e[n].LinkUrl+'"><span class="link">'+e[n].Header+'</span>  <span class="type"><i class="fa page"></i></span></a>':'<li><a href="'+e[n].LinkUrl+'"><span class="link">'+e[n].Header+'</span>  <span class="type"><i class="fa doc"></i></span></a>';return output+="</ul>",output}function P(){if(e(".panelcontent").on("touchmove",function(n){e(this).prop("scrollHeight")<=parseInt(D,10)&&n.preventDefault()}),e(".offcanvas").on("touchmove",function(e){e.preventDefault()}).on("touchmove",".panelcontent",function(e){e.stopPropagation()}),e(".flypanels-button-left").on("click",function(){var n=e(this).data("panel");e(".flypanels-container").hasClass("openleft")?v():m(n)}),e(".flypanels-button-right").on("click",function(){var n=e(this).data("panel");e(".flypanels-container").hasClass("openright")?y():d(n)}),Q===!0){var n;e(window).resize(function(){clearTimeout(n),n=setTimeout(g,100)})}e(window).bind("orientationchange",function(){s()}),$("onLoad")}function I(e,n){return n?void(a[e]=n):a[e]}function R(){j.each(function(){var n=e(this);$("onDestroy"),n.removeData("plugin_"+t)})}function $(e){void 0!==a[e]&&a[e].call(T)}var U,T=n,j=e(n),D=window.innerHeight,Q=!0,L=(parseInt(e(".flypanels-topbar").css("height"),10),{init:!1,expandHandler:"a.expand"});a.treeMenu=e.extend({},L,a.treeMenu);var H={init:!1,saveQueryCookie:!1,searchPanel:e(".offcanvas").find('[data-panel="search"]')};a.search=e.extend({},H,a.search),a=e.extend({},e.fn[t].defaults,a);var M={get:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(e,n,t,a,o,s){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var i="";if(t)switch(t.constructor){case Number:i=1/0===t?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+t;break;case String:i="; expires="+t;break;case Date:i="; expires="+t.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+i+(o?"; domain="+o:"")+(a?"; path="+a:"")+(s?"; secure":""),!0},remove:function(e,n,t){return this.hasItem(e)?(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(n?"; path="+n:""),!0):!1},has:function(e){return e?new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),n=e.length,t=0;n>t;t++)e[t]=decodeURIComponent(e[t]);return e}};return o(),{option:I,destroy:R}}var t="flyPanels";e.fn[t]=function(a){if("string"==typeof arguments[0]){var o,s=arguments[0],i=Array.prototype.slice.call(arguments,1);return this.each(function(){if(!e.data(this,"plugin_"+t)||"function"!=typeof e.data(this,"plugin_"+t)[s])throw new Error("Method "+s+" does not exist on jQuery."+t);o=e.data(this,"plugin_"+t)[s].apply(this,i)}),void 0!==o?o:this}return"object"!=typeof a&&a?void 0:this.each(function(){e.data(this,"plugin_"+t)||e.data(this,"plugin_"+t,new n(this,a))})},e.fn[t].defaults={onInit:function(){},onLoad:function(){},onOpenLeft:function(){},onOpenRight:function(){},onCloseLeft:function(){},onCloseRight:function(){},onDestroy:function(){}}}(jQuery);